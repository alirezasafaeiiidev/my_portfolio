// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Project {
  id          String   @id @default(cuid())
  title       String
  description String
  longDescription String?
  imageUrl    String?
  githubUrl   String?
  liveUrl     String?
  tags        String   // Comma-separated tags
  featured    Boolean  @default(false)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Skill {
  id          String   @id @default(cuid())
  name        String
  category    String   // Frontend, Backend, DevOps, Tools, etc.
  level       Int      // 1-5 proficiency level
  icon        String?  // Icon identifier
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Experience {
  id          String   @id @default(cuid())
  title       String
  company     String
  location    String?
  startDate   String
  endDate     String?
  description String
  current     Boolean  @default(false)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model BlogPost {
  id          String   @id @default(cuid())
  title       String
  slug        String   @unique
  excerpt     String
  content     String
  coverImage  String?
  published   Boolean  @default(false)
  tags        String   // Comma-separated tags
  readTime    Int      // in minutes
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ContactMessage {
  id        String   @id @default(cuid())
  name      String
  email     String
  subject   String?
  message   String
  createdAt DateTime @default(now())
}

enum LeadStatus {
  new
  qualified
  disqualified
  archived
}

model Lead {
  id               String     @id @default(cuid())
  status           LeadStatus @default(new)
  source           String     @default("qualification_form")

  contactName      String
  organizationName String
  organizationType String
  email            String
  phone            String?

  teamSize         String
  currentStack     String
  criticalRisk     String
  timeline         String
  budgetRange      String
  preferredContact String
  notes            String?

  attachmentPath   String?

  utmSource        String?
  utmMedium        String?
  utmCampaign      String?

  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt
}

model AnalyticsEvent {
  id        String   @id @default(cuid())
  name      String
  category  String
  path      String?
  locale    String?
  variant   String?
  value     Float?
  metadata  String?
  createdAt DateTime @default(now())
}
