name=unit_tests
command=pnpm run test
started_at=2026-02-17T22:13:24Z
 WARN  Unsupported engine: wanted: {"node":">=20 <23"} (current: {"node":"v24.13.0","pnpm":"9.15.0"})

> nextjs_tailwind_shadcn_ts@0.2.0 test /home/dev/Project_Me/asdev-portfolio
> vitest run


 RUN  v4.0.18 /home/dev/Project_Me/asdev-portfolio

 ✓ src/__tests__/lib/site-config.test.ts (3 tests) 98ms
stderr | src/__tests__/lib/rate-limit.test.ts > rate-limit > falls back to memory when redis returns non-2xx
{"ts":"2026-02-17T22:13:26.672Z","level":"warn","message":"Redis rate limit request failed","context":{"status":500,"identifier":"redis-non-2xx"}}

 ✓ src/__tests__/seo/sitemap.test.ts (1 test) 132ms
stderr | src/__tests__/lib/rate-limit.test.ts > rate-limit > falls back to memory when redis throws
{"ts":"2026-02-17T22:13:26.682Z","level":"warn","message":"Redis rate limit fallback to memory","context":{"identifier":"redis-throws","error":"network"}}

 ✓ src/__tests__/lib/rate-limit.test.ts (6 tests) 176ms
 ✓ src/__tests__/api/metrics.integration.test.ts (1 test) 117ms
 ✓ src/__tests__/lib/admin-auth.test.ts (3 tests) 104ms
 ✓ src/__tests__/api/ready.integration.test.ts (2 tests) 184ms
stderr | src/__tests__/api/messages.integration.test.ts > public messages route auth hardening > returns 500 when database read fails
{"ts":"2026-02-17T22:13:26.735Z","level":"error","message":"Error fetching messages","context":{"requestId":"ab7b64f4-5c77-41f0-8536-e5f4d044bfc6","error":"db"}}

 ✓ src/__tests__/api/messages.integration.test.ts (5 tests) 207ms
 ✓ src/__tests__/api/admin-auth.integration.test.ts (6 tests) 183ms
{"ts":"2026-02-17T22:13:26.761Z","level":"info","message":"Infrastructure lead captured","context":{"requestId":"44d7d06f-ba82-4903-9641-3172823c1afd","organizationName":"Industrial Co","organizationType":"government_contractor","budgetRange":"60-120m-irr"}}
stderr | src/__tests__/api/leads.integration.test.ts > lead API integration > ignores honeypot submissions without storing data
{"ts":"2026-02-17T22:13:26.803Z","level":"warn","message":"Honeypot trap triggered on lead endpoint","context":{"requestId":"17fa359a-d0e3-4c05-b8d7-546482721b7f","organizationName":"Industrial Co"}}

 ✓ src/__tests__/api/leads.integration.test.ts (3 tests) 257ms
 ✓ src/__tests__/api/admin-routes.integration.test.ts (7 tests) 289ms
 ✓ src/__tests__/lib/batch-queue.test.ts (3 tests) 289ms
 ✓ src/__tests__/lib/lead-notifier.test.ts (3 tests) 112ms
 ✓ src/__tests__/lib/logger.test.ts (2 tests) 11ms
 ✓ src/__tests__/lib/persian-utils.test.ts (40 tests) 50ms
 ✓ src/__tests__/lib/toolbox-data.test.ts (3 tests) 7ms
 ✓ src/__tests__/lib/security.test.ts (36 tests) 19ms
 ✓ src/__tests__/lib/validators.test.ts (26 tests) 11ms
 ✓ src/__tests__/lib/workers.test.ts (4 tests) 19ms
 ✓ src/__tests__/lib/env.test.ts (2 tests) 4ms
 ✓ src/__tests__/lib/i18n-translations.test.ts (2 tests) 5ms
 ✓ src/__tests__/lib/api-security.test.ts (5 tests) 7ms
 ✓ src/__tests__/lib/middleware.test.tsx (2 tests) 11ms
 ✓ src/__tests__/components/web-vitals.test.ts (3 tests) 3ms
 ✓ src/__tests__/lib/proxy-cache.test.ts (2 tests) 3ms

 Test Files  24 passed (24)
      Tests  170 passed (170)
   Start at  23:13:25
   Duration  2.97s (transform 1.42s, setup 7.27s, import 1.64s, tests 2.30s, environment 11.81s)

exit_code=0
finished_at=2026-02-17T22:13:28Z
